{"text": "2021-07-07T10:57:40.726139+0000 ERROR An error has been caught in function 'dispatch', process 'MainProcess' (103), thread 'ThreadPoolExecutor-0_0' (139993470744320):\nTraceback (most recent call last):\n\n  File \"/usr/local/lib/python3.8/threading.py\", line 890, in _bootstrap\n    self._bootstrap_inner()\n    \u2502    \u2514 <function Thread._bootstrap_inner at 0x7f52cb4ece50>\n    \u2514 <Thread(ThreadPoolExecutor-0_0, started daemon 139993470744320)>\n  File \"/usr/local/lib/python3.8/threading.py\", line 932, in _bootstrap_inner\n    self.run()\n    \u2502    \u2514 <function Thread.run at 0x7f52cb4ecb80>\n    \u2514 <Thread(ThreadPoolExecutor-0_0, started daemon 139993470744320)>\n  File \"/usr/local/lib/python3.8/threading.py\", line 870, in run\n    self._target(*self._args, **self._kwargs)\n    \u2502    \u2502        \u2502    \u2502        \u2502    \u2514 {}\n    \u2502    \u2502        \u2502    \u2502        \u2514 <Thread(ThreadPoolExecutor-0_0, started daemon 139993470744320)>\n    \u2502    \u2502        \u2502    \u2514 (<weakref at 0x7f52c5193130; to 'ThreadPoolExecutor' at 0x7f52cb450280>, <_queue.SimpleQueue object at 0x7f52cb44c4a0>, None,...\n    \u2502    \u2502        \u2514 <Thread(ThreadPoolExecutor-0_0, started daemon 139993470744320)>\n    \u2502    \u2514 <function _worker at 0x7f52cb43daf0>\n    \u2514 <Thread(ThreadPoolExecutor-0_0, started daemon 139993470744320)>\n  File \"/usr/local/lib/python3.8/concurrent/futures/thread.py\", line 80, in _worker\n    work_item.run()\n    \u2502         \u2514 <function _WorkItem.run at 0x7f52cb43dc10>\n    \u2514 <concurrent.futures.thread._WorkItem object at 0x7f52c406a910>\n  File \"/usr/local/lib/python3.8/concurrent/futures/thread.py\", line 57, in run\n    result = self.fn(*self.args, **self.kwargs)\n             \u2502    \u2502   \u2502    \u2502       \u2502    \u2514 {}\n             \u2502    \u2502   \u2502    \u2502       \u2514 <concurrent.futures.thread._WorkItem object at 0x7f52c406a910>\n             \u2502    \u2502   \u2502    \u2514 []\n             \u2502    \u2502   \u2514 <concurrent.futures.thread._WorkItem object at 0x7f52c406a910>\n             \u2502    \u2514 functools.partial(<bound method SyncToAsync.thread_handler of <asgiref.sync.SyncToAsync object at 0x7f52c5300df0>>, <_UnixSel...\n             \u2514 <concurrent.futures.thread._WorkItem object at 0x7f52c406a910>\n  File \"/usr/local/lib/python3.8/site-packages/asgiref/sync.py\", line 462, in thread_handler\n    return func(*args, **kwargs)\n           \u2502     \u2502       \u2514 {}\n           \u2502     \u2514 (functools.partial(<function convert_exception_to_response.<locals>.inner at 0x7f52c52d3160>, <ASGIRequest: POST '/api/users/...\n           \u2514 <built-in method run of Context object at 0x7f52c400fb40>\n  File \"/usr/local/lib/python3.8/site-packages/django/core/handlers/exception.py\", line 47, in inner\n    response = get_response(request)\n               \u2502            \u2514 <ASGIRequest: POST '/api/users/auth/signup'>\n               \u2514 <debug_toolbar.middleware.DebugToolbarMiddleware object at 0x7f52c52da7c0>\n  File \"/usr/local/lib/python3.8/site-packages/debug_toolbar/middleware.py\", line 48, in __call__\n    return self.get_response(request)\n           \u2502    \u2502            \u2514 <ASGIRequest: POST '/api/users/auth/signup'>\n           \u2502    \u2514 <function convert_exception_to_response.<locals>.inner at 0x7f52c52d35e0>\n           \u2514 <debug_toolbar.middleware.DebugToolbarMiddleware object at 0x7f52c52da7c0>\n  File \"/usr/local/lib/python3.8/site-packages/django/core/handlers/exception.py\", line 47, in inner\n    response = get_response(request)\n               \u2502            \u2514 <ASGIRequest: POST '/api/users/auth/signup'>\n               \u2514 <debug_toolbar_force.middleware.ForceDebugToolbarMiddleware object at 0x7f52c52eda60>\n  File \"/usr/local/lib/python3.8/site-packages/debug_toolbar_force/middleware.py\", line 30, in __call__\n    response = self.get_response(request)\n               \u2502    \u2502            \u2514 <ASGIRequest: POST '/api/users/auth/signup'>\n               \u2502    \u2514 <asgiref.sync.AsyncToSync object at 0x7f52c52ed4f0>\n               \u2514 <debug_toolbar_force.middleware.ForceDebugToolbarMiddleware object at 0x7f52c52eda60>\n  File \"/usr/local/lib/python3.8/site-packages/asgiref/sync.py\", line 201, in __call__\n    current_executor.run_until_future(loop_future)\n    \u2502                \u2502                \u2514 <Future at 0x7f52b76f6160 state=running>\n    \u2502                \u2514 <function CurrentThreadExecutor.run_until_future at 0x7f52cb43f1f0>\n    \u2514 <asgiref.current_thread_executor.CurrentThreadExecutor object at 0x7f52b76f6d90>\n  File \"/usr/local/lib/python3.8/site-packages/asgiref/current_thread_executor.py\", line 62, in run_until_future\n    work_item.run()\n    \u2502         \u2514 <function _WorkItem.run at 0x7f52cb43f0d0>\n    \u2514 <asgiref.current_thread_executor._WorkItem object at 0x7f52c4043a30>\n  File \"/usr/local/lib/python3.8/site-packages/asgiref/current_thread_executor.py\", line 22, in run\n    result = self.fn(*self.args, **self.kwargs)\n             \u2502    \u2502   \u2502    \u2502       \u2502    \u2514 {}\n             \u2502    \u2502   \u2502    \u2502       \u2514 <asgiref.current_thread_executor._WorkItem object at 0x7f52c4043a30>\n             \u2502    \u2502   \u2502    \u2514 ()\n             \u2502    \u2502   \u2514 <asgiref.current_thread_executor._WorkItem object at 0x7f52c4043a30>\n             \u2502    \u2514 functools.partial(<bound method SyncToAsync.thread_handler of <asgiref.sync.SyncToAsync object at 0x7f52c4043f40>>, <_UnixSel...\n             \u2514 <asgiref.current_thread_executor._WorkItem object at 0x7f52c4043a30>\n  File \"/usr/local/lib/python3.8/site-packages/asgiref/sync.py\", line 462, in thread_handler\n    return func(*args, **kwargs)\n           \u2502     \u2502       \u2514 {}\n           \u2502     \u2514 (functools.partial(<function RegisterView at 0x7f52c6bd6d30>, <ASGIRequest: POST '/api/users/auth/signup'>),)\n           \u2514 <built-in method run of Context object at 0x7f52c52fa1c0>\n  File \"/usr/local/lib/python3.8/site-packages/django/views/decorators/csrf.py\", line 54, in wrapped_view\n    return view_func(*args, **kwargs)\n           \u2502          \u2502       \u2514 {}\n           \u2502          \u2514 (<ASGIRequest: POST '/api/users/auth/signup'>,)\n           \u2514 <function RegisterView at 0x7f52c6bd6ca0>\n  File \"/usr/local/lib/python3.8/site-packages/django/views/generic/base.py\", line 70, in view\n    return self.dispatch(request, *args, **kwargs)\n           \u2502    \u2502        \u2502         \u2502       \u2514 {}\n           \u2502    \u2502        \u2502         \u2514 ()\n           \u2502    \u2502        \u2514 <ASGIRequest: POST '/api/users/auth/signup'>\n           \u2502    \u2514 <function APIView.dispatch at 0x7f52c6bff700>\n           \u2514 <user.views.RegisterView object at 0x7f52b76f6730>\n> File \"/usr/local/lib/python3.8/site-packages/rest_framework/views.py\", line 506, in dispatch\n    response = handler(request, *args, **kwargs)\n               \u2502       \u2502         \u2502       \u2514 {}\n               \u2502       \u2502         \u2514 ()\n               \u2502       \u2514 <rest_framework.request.Request: POST '/api/users/auth/signup'>\n               \u2514 <bound method RegisterView.post of <user.views.RegisterView object at 0x7f52b76f6730>>\n\n  File \"/usr/src/Backend_DRF_v2/user/views.py\", line 152, in post\n    user = User.objects.create_user(\n           \u2502    \u2514 <django.db.models.manager.ManagerDescriptor object at 0x7f52c7e18a00>\n           \u2514 <class 'user.models.User'>\n\n  File \"/usr/local/lib/python3.8/site-packages/django/contrib/auth/models.py\", line 152, in create_user\n    return self._create_user(username, email, password, **extra_fields)\n           \u2502    \u2502            \u2502         \u2502      \u2502           \u2514 {'first_name': '\u0412\u043b\u0430\u0434\u0438\u0441\u043b\u0430\u0432', 'photo': <InMemoryUploadedFile: qqq.png (image/png)>, 'city': '1', 'birth_day': '1997-12-24', 'se...\n           \u2502    \u2502            \u2502         \u2502      \u2514 '2497sasha'\n           \u2502    \u2502            \u2502         \u2514 'sasfwq133@mail.ru'\n           \u2502    \u2502            \u2514 'Vlad123'\n           \u2502    \u2514 <function UserManager._create_user at 0x7f52c7e14310>\n           \u2514 <django.contrib.auth.models.UserManager object at 0x7f52c7d79ac0>\n  File \"/usr/local/lib/python3.8/site-packages/django/contrib/auth/models.py\", line 146, in _create_user\n    user.save(using=self._db)\n    \u2502    \u2502          \u2502    \u2514 None\n    \u2502    \u2502          \u2514 <django.contrib.auth.models.UserManager object at 0x7f52c7d79ac0>\n    \u2502    \u2514 <function AbstractBaseUser.save at 0x7f52c8902d30>\n    \u2514 <User: \u0412\u043b\u0430\u0434\u0438\u0441\u043b\u0430\u0432>\n  File \"/usr/local/lib/python3.8/site-packages/django/contrib/auth/base_user.py\", line 67, in save\n    super().save(*args, **kwargs)\n                  \u2502       \u2514 {'using': None}\n                  \u2514 ()\n  File \"/usr/local/lib/python3.8/site-packages/django/db/models/base.py\", line 726, in save\n    self.save_base(using=using, force_insert=force_insert,\n    \u2502    \u2502               \u2502                   \u2514 False\n    \u2502    \u2502               \u2514 'default'\n    \u2502    \u2514 <function Model.save_base at 0x7f52ca488e50>\n    \u2514 <User: \u0412\u043b\u0430\u0434\u0438\u0441\u043b\u0430\u0432>\n  File \"/usr/local/lib/python3.8/site-packages/django/db/models/base.py\", line 774, in save_base\n    post_save.send(\n    \u2502         \u2514 <function Signal.send at 0x7f52cb5c2e50>\n    \u2514 <django.db.models.signals.ModelSignal object at 0x7f52ca961f40>\n  File \"/usr/local/lib/python3.8/site-packages/django/dispatch/dispatcher.py\", line 180, in send\n    return [\n  File \"/usr/local/lib/python3.8/site-packages/django/dispatch/dispatcher.py\", line 181, in <listcomp>\n    (receiver, receiver(signal=self, sender=sender, **named))\n     \u2502         \u2502               \u2502            \u2502         \u2514 {'instance': <User: \u0412\u043b\u0430\u0434\u0438\u0441\u043b\u0430\u0432>, 'created': True, 'update_fields': None, 'raw': False, 'using': 'default'}\n     \u2502         \u2502               \u2502            \u2514 <class 'user.models.User'>\n     \u2502         \u2502               \u2514 <django.db.models.signals.ModelSignal object at 0x7f52ca961f40>\n     \u2502         \u2514 <function announce_new_user2 at 0x7f52c7d830d0>\n     \u2514 <function announce_new_user2 at 0x7f52c7d830d0>\n\n  File \"/usr/src/Backend_DRF_v2/user/models.py\", line 63, in announce_new_user2\n    if created:\n\nNameError: name 'created' is not defined\n", "record": {"elapsed": {"repr": "0:00:28.308715", "seconds": 28.308715}, "exception": {"type": "NameError", "value": "name 'created' is not defined", "traceback": true}, "extra": {}, "file": {"name": "views.py", "path": "/usr/local/lib/python3.8/site-packages/rest_framework/views.py"}, "function": "dispatch", "level": {"icon": "\u274c", "name": "ERROR", "no": 40}, "line": 506, "message": "An error has been caught in function 'dispatch', process 'MainProcess' (103), thread 'ThreadPoolExecutor-0_0' (139993470744320):", "module": "views", "name": "rest_framework.views", "process": {"id": 103, "name": "MainProcess"}, "thread": {"id": 139993470744320, "name": "ThreadPoolExecutor-0_0"}, "time": {"repr": "2021-07-07 10:57:40.726139+00:00", "timestamp": 1625655460.726139}}}
